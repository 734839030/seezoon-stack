(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{371:function(n,a,o){"use strict";o.r(a);var s=o(26),e=Object(s.a)({},(function(){var n=this,a=n.$createElement,o=n._self._c||a;return o("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[o("h1",{attrs:{id:"nacos-配置中心"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#nacos-配置中心"}},[n._v("#")]),n._v(" Nacos 配置中心")]),n._v(" "),o("p",[n._v("这里使用阿里云"),o("a",{attrs:{href:"https://www.aliyun.com/product/acm",target:"_blank",rel:"noopener noreferrer"}},[n._v("ACM"),o("OutboundLink")],1),n._v(" 应用配置管理。")]),n._v(" "),o("blockquote",[o("p",[n._v("没错你猜对了，这个是也是"),o("strong",[n._v("免费")]),n._v("的，没有任何附加条件，也是流行Nacos 实现，可以配置比对，版本管理，灰度推送，推送轨迹等便捷功能。")])]),n._v(" "),o("p",[n._v("上面的后台部署需要手工处理配置文件比较麻烦，这个章节看项目需要，可以彻底剥离配置文件，大项目一般是有配置中心的，可以自己搭建Nacos，这里有免费的当然优先选择现有的，何况代码中没有直接依赖。")]),n._v(" "),o("img",{attrs:{src:n.$withBase("/images/image-20210423150358035.png")}}),n._v(" "),o("p",[n._v("该项目已经集成"),o("code",[n._v("nacos-config-spring-boot-starter")]),n._v("。静默开启和关闭，加上Nacos 配置则远程优先本地，不加则还是传统方式。")]),n._v(" "),o("p",[n._v("这里为了"),o("strong",[n._v("降低依赖")]),n._v("没有使用Nacos的注解，所以不具备自动刷新能力，发完配置需要重启生效。")]),n._v(" "),o("h2",{attrs:{id:"配置说明"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#配置说明"}},[n._v("#")]),n._v(" 配置说明")]),n._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[n._v("# 在这个文件中补全Nacos 的配置\nbuild/assembly/conf/application.properties\n\n# 免费阿里云配置中心nacos https://acmnext.console.aliyun.com/\n# 只需添加了下列配置，就可以读取配置中心变量，默认spring自带注解不刷新，发布后应用需要重启，如需自动刷新，请用Nacos自带注解\n# 容器中使用把可变参数值做成环境变量即可\nnacos.config.bootstrap.enable=true\nnacos.config.remote-first=true\nnacos.config.bootstrap.log-enable=true\nnacos.config.auto-refresh=true\nnacos.config.type=properties\nnacos.config.data-id=com.seezoon\nnacos.config.group=seezoon-admin-server\nnacos.config.endpoint=acm.aliyun.com\n# 很奇葩是这uuid ，不能写名字\nnacos.config.namespace=555dabb9-1d2a-4ecd-9069-c377f7823236\n# 推荐使用 RAM 用户的 accessKey 和 secretKey\nnacos.config.access-key=xxx\nnacos.config.secret-key=xxx\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);