(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{368:function(e,s,a){"use strict";a.r(s);var t=a(26),r=Object(t.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"镜像工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像工具"}},[e._v("#")]),e._v(" 镜像工具")]),e._v(" "),a("p",[e._v("采用容器快速构建环境依赖，这个是"),a("strong",[e._v("站在工具角度")]),e._v("来使用，针对特定项目还是利用已提供的Dockfile 做镜像发布比较正规。为了方便可以共享主机网络(包括端口)，可以加上--network=host，这样更方便。")]),e._v(" "),a("blockquote",[a("p",[e._v("如果环境是单独的，可以采用全部做成Dockfile，利用DevOps工具配置一站是流程，这里主要避免手动装软件的烦恼。")])]),e._v(" "),a("h2",{attrs:{id:"mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[e._v("#")]),e._v(" Mysql")]),e._v(" "),a("p",[e._v("安装mysql，并初始化：")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("安装")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 指定密码使用\ndocker run -d -v /var/lib/mysql:/var/lib/mysql  --name mysql -e MYSQL_ROOT_PASSWORD=xxxx mysql:8.0.25\n# 空密码使用\ndocker run -d -v /var/lib/mysql:/var/lib/mysql  --name mysql -e MYSQL_ALLOW_EMPTY_PASSWORD=yes mysql:8.0.25\n")])])]),a("blockquote",[a("p",[e._v("支持远程访问加上共享主机网络--network=host，请设置安全密码。")])])]),e._v(" "),a("li",[a("p",[e._v("初始化数据")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 默认localhost访问没有限制，可以去掉-p\ndocker exec -i mysql sh -c 'exec mysql -uroot -p\"$MYSQL_ROOT_PASSWORD\"' < db/seezoon-stack.sql\n")])])])])]),e._v(" "),a("p",[e._v("常用操作：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 当做mysql 客户端使用\ndocker run -it --rm mysql mysql -hsome.mysql.host -usome-mysql-user -p\n# 进入mysql容器\ndocker exec -it mysql bash\n# 查看日志\ndocker logs mysql\n")])])]),a("p",[e._v("具体文档参见"),a("a",{attrs:{href:"https://hub.docker.com/_/mysql",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mysql Docker"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[e._v("#")]),e._v(" Redis")]),e._v(" "),a("p",[e._v("安装：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("docker run --name redis -d redis\n")])])]),a("p",[e._v("连接：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# 默认链接127.0.0.1 6379，连接其他可以添加-h -p 参数来指定host和端口 \ndocker run -it --rm redis redis-cli -h xxx.xxx\n")])])]),a("p",[e._v("具体文档参见"),a("a",{attrs:{href:"https://hub.docker.com/_/redis",target:"_blank",rel:"noopener noreferrer"}},[e._v("Redisl Docker"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[e._v("#")]),e._v(" Nginx")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("mkdir /usr/local/nginx\n#准备一个配置文件https://raw.githubusercontent.com/nginx/nginx/master/conf/nginx.conf\ndocker run --name nginx -v /usr/local/nginx/nginx.conf:/etc/nginx/nginx.conf:ro -v /usr/local/nginx:/usr/local/nginx  -d nginx\n")])])]),a("h2",{attrs:{id:"java"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java"}},[e._v("#")]),e._v(" Java")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("docker run -d --name seezoon-admin-server -e IN_CONTAINER=true -v /data/seezoon-admin-server:/data/seezoon-admin-server openjdk:11 /data/seezoon-admin-server/bin/docker-entrypoint.sh start\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);